import{l as p}from"./logger-BTW-zIW3.js";import{settingsState as c}from"./constant-C-1OIyW7.js";import"./virtual-D4KiWvGj.js";import"./index-BJHYLQGk.min.js";import"./isObject-CRxghtyK.min.js";import"./runtime-core.esm-bundler-BgTOpYpR.min.js";import"./set-B6rMqs6z.min.js";const d=new BroadcastChannel("windpress");(function(){const n=window.XMLHttpRequest;function s(){const t=new n;if(!c("module.generate-cache.on-save",!0).value)return t;const o=t.open;return t.open=function(r,i){if(r==="POST"&&i.includes("admin-ajax.php")){const a=t.onreadystatechange;t.onreadystatechange=function(){if(t.readyState===4&&t.status===200){const e=JSON.parse(t.responseText);e.data&&e.data.action&&e.data.action==="bricks_save_post"&&d.postMessage({source:"windpress/integration",target:"windpress/dashboard",task:"windpress.generate-cache",payload:{force_pull:!0}})}a&&a.apply(this,arguments)}}o.apply(this,arguments)},t}window.XMLHttpRequest=s})(),p("Module loaded!",{module:"generate-cache"});
