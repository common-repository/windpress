import{F as g}from"../../../../../fuse-CU2r43ac.min.js";import{a as M,l as j}from"../../../../../intellisense-D4O0Eoz-.js";import{d as C,__tla as F}from"../../../../../module-D_6o7GTg.js";import{s as v}from"../../../../../set-B6rMqs6z.min.js";import"../../../../../index-CKpsDP-T.min.js";import{__tla as q}from"../../../../../monaco-editor-00CT0F_7.min.js";import"../../../../../isObject-CRxghtyK.min.js";Promise.all([(()=>{try{return F}catch{}})(),(()=>{try{return q}catch{}})()]).then(async()=>{var f;let n=[];const u=new BroadcastChannel("windpress"),i=document.querySelector('script[type="text/tailwindcss"]');i&&(_(),new MutationObserver(async()=>{await l()}).observe(i,{characterData:!0,subtree:!0}));async function l(){const t=C(i.textContent);n=await M(await j({volume:t})),u.postMessage({source:"windpress/autocomplete",target:"any",task:"windpress.code-editor.saved.done"})}await l();function _(){u.addEventListener("message",async t=>{const r=t.data;r.source==="windpress/dashboard"&&r.target==="windpress/observer"&&r.task==="windpress.code-editor.saved"&&await l()})}function w(t){var r;return((r=t==null?void 0:t.find(c=>c.property.includes("color")))==null?void 0:r.value)||null}function m(t){if(t==="")return n.map(e=>({value:e.selector,color:w(e.declarations)}));let r=t.split(":"),c=r.slice(0,-1).join(":"),o=r.pop(),h="";o.startsWith("!")&&(o=o.slice(1),h="!");let s=!1;if(o.includes("/")){let[e,a]=o.split("/");a===""?(o=e,s=a):isNaN(a)||a<0||a>100?o=[e,a].join("/"):(o=e,s=parseInt(a))}let d=n.filter(e=>e.selector.includes(o));if(s!==!1){let e=[];const a=s===""?5:1,b=s===""||s>9?0:Math.floor((s*10+1)/10)*10,k=s===""||s>9?100:Math.ceil((s*10+1)/10)*10;d.forEach(y=>{for(let p=b;p<=k;p+=a)e.push({...y,selector:y.selector+"/"+p})}),d=e}return new g(d,{keys:["selector"],threshold:.4}).search(o).map(({item:e})=>({value:[c,(h?"!":"")+e.selector].filter(Boolean).join(":"),color:w(e.declarations)}))}(f=window.wp)!=null&&f.hooks&&window.wp.hooks.addFilter("windpress.module.autocomplete","windpress",m),v(window,"windpress.loaded.module.autocomplete",!0),v(window,"windpress.module.autocomplete.query",t=>m(t))});
